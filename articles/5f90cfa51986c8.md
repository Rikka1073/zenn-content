---
title: "AWS EC2ã§Reactã‚¢ãƒ—ãƒªã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•"
emoji: "ðŸ’»"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["aws", "ec2"]
published: false
---

# ã¯ã˜ã‚ã«

ä»Šå›žã¯ AWS ã® EC2 ã‚’ä½¿ã£ã¦ vite ã§ä½œæˆã—ãŸ React ã®ã‚¢ãƒ—ãƒªã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã„ãã¾ã™ã€‚æœ€å¾Œã« Route 53 ã§å–å¾—ã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã« React ã‚¢ãƒ—ãƒªãŒè¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ãã¾ã™ã€‚

# è¨­å®šæ–¹æ³•

ã¾ãšåˆã‚ã« EC2 ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®èµ·å‹•æ™‚ã«å¿…è¦ãªã‚­ãƒ¼ãƒšã‚¢ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚

## ã‚­ãƒ¼ãƒšã‚¢ã®ä½œæˆ

EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã® ssh æŽ¥ç¶šã«å¿…è¦ãªã‚­ãƒ¼ãƒšã‚¢ã®ä½œæˆã‚’è¡Œã„ã¾ã™ã€‚

- EC2 ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ & ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ã‚­ãƒ¼ãƒšã‚¢ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/6948cdf12504-20250323.png)

- `ã‚­ãƒ¼ãƒšã‚¢ã‚’ä½œæˆ`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/fb6c72f2b4a5-20250323.png)

- ã‚­ãƒ¼ãƒšã‚¢ã®è¨­å®šç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§è©³ç´°ã‚’å…¥åŠ›ã—ã¾ã™ã€‚ä»Šå›žå…¥åŠ›ã™ã‚‹è¨­å®šé …ç›®ã§ã™ã€‚
  ![](https://storage.googleapis.com/zenn-user-upload/d37f6954bb8b-20250323.png)

| é …ç›®                         | å€¤       | èª¬æ˜Ž                                 |
| ---------------------------- | -------- | ------------------------------------ |
| åå‰                         | masafumi | SSH æŽ¥ç¶šã«åˆ©ç”¨ã™ã‚‹éµã®åå‰           |
| ã‚­ãƒ¼ãƒšã‚¢ã®ã‚¿ã‚¤ãƒ—             | RSA      | SSH æŽ¥ç¶šã§åˆ©ç”¨ã™ã‚‹æš—å·åŒ–ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  |
| ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ | pem      | SSH æŽ¥ç¶šå½¢å¼                         |

- è¨­å®šé …ç›®ã‚’å…¥åŠ›ã—ãŸã‚‰`ã‚­ãƒ¼ãƒšã‚¢ã‚’ä½œæˆ`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚
  ![](https://storage.googleapis.com/zenn-user-upload/2fc211667b59-20250323.png)

- ã‚­ãƒ¼ãƒšã‚¢ã®ä¸€è¦§ã«åå‰ã®ã¨ã“ã‚ã§è¨­å®šã—ãŸå€¤ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãŸã‚‰ã‚­ãƒ¼ãƒšã‚¢ã®ä½œæˆãŒå®Œäº†ã—ã¾ã—ãŸã€‚ä½œæˆã¨åŒæ™‚ã« Edge ã‚„ Chrome ã§ã‚ã‚Œã°è‡ªå‹•ã§ã‚­ãƒ¼ãƒšã‚¢ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒã•ã‚Œã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/8ffd556706d3-20250323.png)

![](https://storage.googleapis.com/zenn-user-upload/30ecac18f6ff-20250323.png)

-ã€€ SSH æŽ¥ç¶šã«å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¸€èˆ¬çš„ã«`.ssh`ã«ä½œæˆã—ã¾ã™ã€‚å…ˆã»ã©ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚­ãƒ¼ãƒšã‚¢ã‚’ä¸‹è¨˜ã®ã‚³ãƒžãƒ³ãƒ‰ã§`.ssh`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚
`xxx`ã®éƒ¨åˆ†ã¯ã”è‡ªèº«ã®ã‚­ãƒ¼ãƒšã‚¢åã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚

```
cp ./Downloads/xxxx.pem
```

- `.ssh`ã«ã‚­ãƒ¼ãƒšã‚¢ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°ã‚³ãƒ”ãƒ¼ãŒå®Œäº†ã§ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/ed5ff081b609-20250323.png)

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®è¨­å®š

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã¨ã¯å¤–éƒ¨ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã«åˆ¶é™ã‚’ã‹ã‘ã‚‹æ©Ÿèƒ½ã§ã™ã€‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã§ã¯ãƒãƒ¼ãƒˆç•ªå·ã€IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ï¼’ã¤ã§åˆ¶å¾¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®è¨­å®šã‚’è¡Œãªã£ã¦ã„ãã¾ã™ã€‚
  ä»Šå›žå…¥åŠ›ã™ã‚‹è¨­å®šé …ç›®ã§ã™ã€‚

| é …ç›®                   | å€¤                                                   | èª¬æ˜Ž                                                                                           |
| ---------------------- | ---------------------------------------------------- | ---------------------------------------------------------------------------------------------- |
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—å | vite-react-app                                       | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã«ã¤ã‘ã‚‹åå‰                                                               |
| èª¬æ˜Ž                   | vite-react-app server                                | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã®å¯¾è±¡ã‚„ç”¨é€”ã®èª¬æ˜Ž                                                         |
| ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«     | ã‚¿ã‚¤ãƒ—:SSH ã‚½ãƒ¼ã‚¹:0.0.0.0/0                          | ã‚¿ã‚¤ãƒ—:å¤–éƒ¨ã‹ã‚‰æŽ¥ç¶šã‚’è¨±å¯ã™ã‚‹ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’è¨­å®šã€€ã‚½ãƒ¼ã‚¹:å¤–éƒ¨ã‹ã‚‰æŽ¥ç¶šã‚’è¨±å¯ã™ã‚‹ IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡å®š |
| ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«     | ã‚¿ã‚¤ãƒ—:ã‚«ã‚¹ã‚¿ãƒ  TCP ãƒãƒ¼ãƒˆç¯„å›²:5173 ã‚½ãƒ¼ã‚¹:0.0.0.0/0 | Vite ã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒ›ã‚¹ãƒˆæŽ¥ç¶šç¢ºèªç”¨                                                                |
| ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«     | ã‚¿ã‚¤ãƒ—:ã‚«ã‚¹ã‚¿ãƒ  TCP ãƒãƒ¼ãƒˆç¯„å›²:80 ã‚½ãƒ¼ã‚¹:0.0.0.0/0   | nginx ã®æŽ¥ç¶šç¢ºèªç”¨                                                                             |

- `åŸºæœ¬çš„ãªè©³ç´°`ã‚’å…¥åŠ›ã—ã¦ã„ãã¾ã™ã€‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—åã¯`vite-react-app`ã€èª¬æ˜Žã«ã¯`vite-react-app server`ã€VPC ã¯`ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ`ã‚’è¨­å®šã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/34125d3ad0bd-20250323.png)

- ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ãƒ«ãƒ¼ãƒ«ã«ã¯ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ãƒãƒ¼ãƒˆç•ªå·ã‚’å…¥åŠ›ã—ã¾ã™ã€‚
  SSH æŽ¥ç¶šç”¨ã«ãƒãƒ¼ãƒˆ 22 ã‚’è¨­å®šã—ã¾ã™ã€‚Vite ã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒ›ã‚¹ãƒˆæŽ¥ç¶šç”¨ã«ãƒãƒ¼ãƒˆ 5173 ã‚’è¨­å®šã—ã¾ã™ã€‚ nginx ã®æŽ¥ç¶šç¢ºèªç”¨ã«ãƒãƒ¼ãƒˆ 80 ã‚’è¨­å®šã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/707f66a11666-20250323.png)

- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/7d8566e90f97-20250323.png)

- ä½œæˆã—ãŸã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—åãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°å®Œäº†ã§ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/e326cd526ef2-20250323.png)

## EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä½œæˆ

EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®è¨­å®šã‚’è¡Œãªã£ã¦ã„ãã¾ã™ã€‚
ä»Šå›žå…¥åŠ›ã™ã‚‹è¨­å®šé …ç›®ã§ã™ã€‚

| é …ç›®                                    | å€¤                    | èª¬æ˜Ž                                             |
| --------------------------------------- | --------------------- | ------------------------------------------------ |
| åå‰                                    | vite-react-app        | EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®åå‰                           |
| Amazon ãƒžã‚·ãƒ³ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆAMIï¼‰            | Amazon Linux 2023 AMI | EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å°Žå…¥ã™ã‚‹ OS                    |
| ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ—                      | t2.micro              | EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã‚¹ãƒšãƒƒã‚¯                       |
| ã‚­ãƒ¼ãƒšã‚¢ (ãƒ­ã‚°ã‚¤ãƒ³)                     | masafumi.pem          | EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«æŽ¥ç¶šã™ã‚‹ã¨ãã«ä½¿ç”¨ã™ã‚‹ã‚­ãƒ¼ãƒšã‚¢ |
| ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ« (ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—) | vite-react-app        | EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«é©ç”¨ã™ã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—   |

- ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’èµ·å‹•ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™
  ![](https://storage.googleapis.com/zenn-user-upload/1848e76136d7-20250323.png)

- è¨­å®šç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§è©³ç´°ã‚’å…¥åŠ›ã—ã¦ã„ãã¾ã™ã€‚
  ã¾ãšã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åã‚’å…¥åŠ›ã—ã¾ã™ã€‚ä»Šå›žã¯`vite-react-app`ã¨ã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/7b99ec6cd1b9-20250323.png)

- `AMI`ã‚’é¸æŠžã—ã¾ã™ã€‚`Amazon Linux 2023 AMI`ã‚’é¸æŠžã—ã¾ã™ã€‚
  AWS ç’°å¢ƒã§ã‚µãƒ¼ãƒãƒ¼ã‚’é‹ç”¨ã™ã‚‹å ´åˆã¯`Linux`ãŒé©ã—ã¦ã„ã¾ã™ã€‚ç‰¹åˆ¥ã«ç†ç”±ãŒãªã„å ´åˆã¯`Linux`ã‚’é¸æŠžã—ã¦ãã ã•ã„ã€‚

![](https://storage.googleapis.com/zenn-user-upload/99412e4de982-20250323.png)

- ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ—ã¯`t2.micro`ã‚’é¸æŠžã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/8d0eaa401074-20250323.png)

- å…ˆã»ã©è¨­å®šã—ãŸã‚­ãƒ¼ãƒšã‚¢ã‚’é¸æŠžã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/c735cf228ab4-20250323.png)

- ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ« (ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—)ã¯`æ—¢å­˜ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã‚’é¸æŠžã™ã‚‹`ã€å…±é€šã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã¯äº‹å‰ã«ä½œæˆã—ãŸ`vite-react-app`ã‚’é¸æŠžã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/639cee3a7ccd-20250323.png)

- ã“ã“ã¾ã§å…¥åŠ›å®Œäº†ã—ãŸã‚‰ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’èµ·å‹•ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/f5fdd924b421-20250323.png)

- ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç®¡ç†ç”»é¢ã«æˆ»ã‚Šæ•°ç§’ã™ã‚‹ã¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®çŠ¶æ…‹ãŒå®Ÿè¡Œä¸­ã«ãªã£ã¦ã„ã‚Œã°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®è¨­å®šãŒå®Œäº†ã§ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/4d8dc9f9d926-20250323.png)

## EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã® SSH æŽ¥ç¶š

EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã¾ã—ãŸãŒã¾ã  Web ã‚µãƒ¼ãƒãƒ¼ã«æŽ¥ç¶šã§ãã¦ã„ã¾ã›ã‚“ã€‚SSH ã§ Web ã‚µãƒ¼ãƒãƒ¼ã«æŽ¥ç¶šã—ã¾ã™ã€‚

- ssh ã‚³ãƒžãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ã‚µãƒ¼ãƒãƒ¼ã«æŽ¥ç¶šã—ã¾ã™ã€‚@ä»¥é™ã«è‡ªèº«ã® IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚

```
ssh -i ~/.ssh/masafumi.pem ec2-user@57.181.34.248
```

- IP ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ä¸‹è¨˜ã‹ã‚‰ç¢ºèªã§ãã¾ã™ã€‚`ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ ID`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![](https://storage.googleapis.com/zenn-user-upload/9b7fbfe41fec-20250324.png)

- `ãƒ‘ãƒ–ãƒªãƒƒã‚¯ IPv4 ã‚¢ãƒ‰ãƒ¬ã‚¹`ã®å†…å®¹ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ ssh ã‚³ãƒžãƒ³ãƒ‰ã®@ä»¥é™ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚

![](https://storage.googleapis.com/zenn-user-upload/69c57998f79d-20250324.png)

- åˆã‚ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’èµ·å‹•ã™ã‚‹éš›ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚`yes`ã‚’æŠ¼ã—ã¦`Amazon Linux 2023`ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã° ssh æŽ¥ç¶šã®å®Œäº†ã§ã™ã€‚

```
The authenticity of host '57.181.34.248 (57.181.34.248)' can't be established.
ED25519 key fingerprint is SHA256:aN5bOSqSsRj570x9W97PibuaFhF+PxlLCs2DvtRLw98.
This host key is known by the following other names/addresses:
    ~/.ssh/known_hosts:22: 57.181.34.248
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '57.181.34.248' (ED25519) to the list of known hosts.
   ,     #_
   ~\_  ####_        Amazon Linux 2023
  ~~  \_#####\
  ~~     \###|
  ~~       \#/ ___   https://aws.amazon.com/linux/amazon-linux-2023
   ~~       V~' '->
    ~~~         /
      ~~._.   _/
         _/ _/
       _/m/'

```
